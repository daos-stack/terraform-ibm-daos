{
  "header": "Copyright 2022 Intel Corporation\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n     http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.",
  "footer": "",
  "inputs": [
    {
      "name": "admin_instance_base_name",
      "type": "string",
      "description": "Admin instance base name",
      "default": "daos-admin",
      "required": false
    },
    {
      "name": "admin_security_group_names",
      "type": "list(string)",
      "description": "List of security groups to attach to add to DAOS admin instances",
      "default": [],
      "required": false
    },
    {
      "name": "ansible_install_script_url",
      "type": "string",
      "description": "URL for script that installs Ansible",
      "default": "https://raw.githubusercontent.com/mark-olson/ansible-collection-daos/develop/install_ansible.sh",
      "required": false
    },
    {
      "name": "ansible_playbooks",
      "type": "list(object({\n    venv_dir           = string\n    collection_fqn     = string\n    collection_git_url = string\n    playbook_fqn       = string\n  }))",
      "description": "Ansible information to be used in a template that generates a user_data script",
      "default": [
        {
          "collection_fqn": "mark_olson.daos",
          "collection_git_url": "git+https://github.com/mark-olson/ansible-collection-daos.git,develop",
          "playbook_fqn": "mark_olson.daos.daos_install",
          "venv_dir": "/usr/local/ansible-collection-daos/venv"
        }
      ],
      "required": false
    },
    {
      "name": "client_instance_base_name",
      "type": "string",
      "description": "DAOS client instance base name",
      "default": "daos-client",
      "required": false
    },
    {
      "name": "client_instance_count",
      "type": "number",
      "description": "Number of DAOS instances to deploy",
      "default": 1,
      "required": false
    },
    {
      "name": "client_instance_profile_name",
      "type": "string",
      "description": "Name of the instance profile to use for DAOS clients",
      "default": "bx2d-48x192",
      "required": false
    },
    {
      "name": "client_os_image_name",
      "type": "string",
      "description": "Name of disk image to use for DAOS clients",
      "default": "ibm-rocky-linux-8-6-minimal-amd64-2",
      "required": false
    },
    {
      "name": "client_security_group_names",
      "type": "list(string)",
      "description": "List of security group names to attach to add to DAOS client instances",
      "default": [],
      "required": false
    },
    {
      "name": "ibmcloud_api_key",
      "type": "string",
      "description": "IBM Cloud API Key",
      "default": null,
      "required": true
    },
    {
      "name": "prefix",
      "type": "string",
      "description": "Prefix to assign to all VPC resource names",
      "default": "daos-example",
      "required": false
    },
    {
      "name": "region",
      "type": "string",
      "description": "IBM Cloud Region",
      "default": "us-south",
      "required": false
    },
    {
      "name": "server_enable_bare_metal",
      "type": "bool",
      "description": "Use bare metal instances instead of VMs",
      "default": true,
      "required": false
    },
    {
      "name": "server_instance_bare_metal_profile_name",
      "type": "string",
      "description": "Name of the instance profile for DAOS server bare metal instances",
      "default": "cx2-metal-96x192",
      "required": false
    },
    {
      "name": "server_instance_base_name",
      "type": "string",
      "description": "DAOS Server instance base name",
      "default": "daos-server",
      "required": false
    },
    {
      "name": "server_instance_count",
      "type": "number",
      "description": "Number of DAOS Server instances to deploy on VMs",
      "default": 0,
      "required": false
    },
    {
      "name": "server_os_image_name_vm",
      "type": "string",
      "description": "Name of disk image to use for DAOS server VPC VM images",
      "default": "ibm-rocky-linux-8-6-minimal-amd64-2",
      "required": false
    },
    {
      "name": "server_security_group_names",
      "type": "list(string)",
      "description": "List of security group names to attach to add to DAOS server instances",
      "default": [],
      "required": false
    },
    {
      "name": "ssh_key_names",
      "type": "list(string)",
      "description": "List of SSH key names to add to DAOS instances",
      "default": [],
      "required": false
    },
    {
      "name": "subnet_name",
      "type": "string",
      "description": "Name of the VPC subnet for the DAOS cluster",
      "default": null,
      "required": false
    },
    {
      "name": "vpc_name",
      "type": "string",
      "description": "Name of the VPC for the DAOS cluster",
      "default": null,
      "required": false
    },
    {
      "name": "zone",
      "type": "string",
      "description": "IBM Cloud Zone",
      "default": "us-south-3",
      "required": false
    }
  ],
  "modules": [
    {
      "name": "daos_admin",
      "source": "../../modules/daos_admin",
      "version": "",
      "description": null
    },
    {
      "name": "daos_client",
      "source": "../../modules/daos_client",
      "version": "",
      "description": null
    },
    {
      "name": "daos_server",
      "source": "../../modules/daos_server",
      "version": "",
      "description": null
    }
  ],
  "outputs": [
    {
      "name": "admin_instance_floating_ip_address",
      "description": "DAOS Admin instance floating IP address"
    },
    {
      "name": "admin_security_group_names",
      "description": "List of Security Groups attached to the DAOS admin instance"
    },
    {
      "name": "admin_security_groups",
      "description": "List of Security Groups attached to the DAOS admin instance"
    },
    {
      "name": "daos_client_names",
      "description": "List of DAOS client instance names"
    },
    {
      "name": "daos_server_access_point_ips",
      "description": "List of DAOS access point IPs"
    },
    {
      "name": "daos_server_access_points",
      "description": "List of DAOS access points"
    },
    {
      "name": "daos_server_names",
      "description": "List of DAOS server instance names"
    },
    {
      "name": "prefix",
      "description": null
    },
    {
      "name": "region",
      "description": "IBM Cloud region"
    },
    {
      "name": "server_instance_base_name",
      "description": null
    },
    {
      "name": "server_instance_count",
      "description": null
    },
    {
      "name": "ssh_key_names",
      "description": null
    },
    {
      "name": "subnet_name",
      "description": null
    },
    {
      "name": "vpc_name",
      "description": null
    },
    {
      "name": "zone",
      "description": "IBM Cloud region"
    }
  ],
  "providers": [],
  "requirements": [
    {
      "name": "ibm",
      "version": "1.46.0"
    }
  ],
  "resources": []
}
